(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{351:function(e,r,l){},352:function(e,r,l){},359:function(e,r,l){"use strict";var t=l(351);l.n(t).a},360:function(e,r,l){"use strict";var t=l(352);l.n(t).a},363:function(e,r,l){"use strict";l.r(r);l(11);var t=l(346),o=l.n(t),m=(l(154),{head:function(){return{title:"YIHOME,留学生租房,澳洲留学租房,英国留学租房"}},data:function(){return{fullscreenLoading:!1,actionUrl:"https://www.inyihome.com/uploaduntil/uploadImg",imageUrl:"",imageUrl2:"",imageUrl3:"",buttonStatus:!1,activeNames:["1"],ruleForm:{owner:void 0},rules:{nameCh:[{required:!0,message:"请输入个人中文姓名",trigger:"blur"},{min:1,max:50,message:"长度最多50字符",trigger:"blur"}],nameEn:[{required:!0,message:"请输入个人英文姓名",trigger:"blur"},{min:1,max:50,message:"长度最多50字符",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],phone:[{required:!0,message:"请输入国内手机号",trigger:"blur"},{min:1,max:50,message:"长度最多50字符",trigger:"blur"}],fphone:[{min:1,max:50,message:"长度最多50字符",trigger:"blur"}],birthday:[{required:!0,message:"请选择出生日期",trigger:"change"}],uemail:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],passport:[{required:!0,message:"请输入护照号",trigger:"blur"},{min:1,max:50,message:"长度最多50字符",trigger:"blur"}],addressich:[{required:!0,message:"请输入国内家庭住址（中文）",trigger:"blur"},{min:1,max:50,message:"长度最多50字符",trigger:"blur"}],addressien:[{required:!0,message:"请输入国内家庭住址（英文）",trigger:"blur"},{min:1,max:200,message:"长度最多200字符",trigger:"blur"}],city:[{required:!0,message:"请输入国内所在城市",trigger:"blur"},{min:1,max:50,message:"长度最多50字符",trigger:"blur"}],pname:[{required:!0,message:"请输入担保人(紧急联系人)姓名",trigger:"blur"},{min:1,max:50,message:"长度最多50字符",trigger:"blur"}],prelation:[{required:!0,message:"请选择与担保人(紧急联系人)的关系",trigger:"change"}],psex:[{required:!0,message:"请选择性别",trigger:"change"}],pphone:[{required:!0,message:"请输入担保人(紧急联系人)手机号",trigger:"blur"},{min:1,max:50,message:"长度最多50字符",trigger:"blur"}],pemail:[{required:!0,message:"请输入担保人(紧急联系人)邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],pbirthday:[{required:!0,message:"请选择担保人(紧急联系人)生日",trigger:"change"}],address:[{required:!0,message:"请输入请输入留学城市",trigger:"blur"},{min:1,max:50,message:"长度最多50字符",trigger:"blur"}],abroadschoolen:[{required:!0,message:"请输入留学学校（英文）",trigger:"blur"},{min:1,max:200,message:"长度最多200字符",trigger:"blur"}],course:[{required:!0,message:"请选择就读课程",trigger:"change"}],grade:[{required:!0,message:"请选择留学年级",trigger:"change"}],gradeyear:[{required:!0,message:"请选择学年制",trigger:"change"}],disciplineen:[{required:!0,message:"请输入留学专业（英文）",trigger:"blur"},{min:1,max:200,message:"长度最多200字符",trigger:"blur"}],payPeriod:[{required:!0,message:"请选择付款周期",trigger:"change"}],payType:[{required:!0,message:"请选择付款方式",trigger:"change"}],remark:[{min:1,max:200,message:"长度最多200字符",trigger:"blur"}]}}},mounted:function(){var e=this;console.log(this.$route.query.userId),this.$route.query.userId&&(this.ruleForm.userId=this.$route.query.userId,this.$request.getLinkUser(this.$route.query.userId).then((function(r){if(200===r.code&&(e.ruleForm=r.data.user,0!=r.data.guarantee.length)){var l=r.data.guarantee.length-1,t=r.data.guarantee[l];e.ruleForm.pname=t.name,e.ruleForm.prelation=t.relation,e.ruleForm.pbirthday=t.birthday,e.ruleForm.pphone=t.phone,e.ruleForm.pemail=t.email,e.ruleForm.psex=t.sex}}))),this.$route.query.uuid||this.$confirm("当前连接已经失效","提示",{confirmButtonText:"确定",type:"error",showClose:!1,showCancelButton:!1,closeOnClickModal:!1,closeOnPressEscape:!1}).then((function(){window.location.href="https://www.inyihome.com"}))},created:function(){console.log(this.$route.query.key),this.$route.query.key?this.ruleForm.owner=this.$route.query.key:this.ruleForm.owner=1},methods:{handleChange:function(e){console.log(e)},submitForm:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return setTimeout((function(){o()("html, body").animate({scrollTop:o()(".is-error").offset().top},500)}),100),console.log(r.ruleForm),r.$message.error("请输入以上必填信息"),!1;r.dataSubmit()}))},dataSubmit:function(){var e=this;this.buttonStatus=!0;var r={users:this.ruleForm,usersGuarantee:{name:this.ruleForm.pname,relation:this.ruleForm.prelation,phone:this.ruleForm.pphone,email:this.ruleForm.pemail,birthday:this.ruleForm.pbirthday,sex:this.ruleForm.psex},uuid:this.$route.query.uuid};this.$request.linkAdd(r).then((function(r){e.buttonStatus=!1,200===r.code?e.$confirm("数据提交成功","提示",{confirmButtonText:"确定",type:"success",showClose:!1,showCancelButton:!1,closeOnClickModal:!1,closeOnPressEscape:!1}).then((function(){window.location.href="https://www.inyihome.com"})):e.$message.error("数据提交失败，请检查网络或联系客服")})).catch((function(r){alert(r),console.log(r),e.buttonStatus=!1,e.$message.error("网络错误，数据提交失败，请联系您的销售顾问")}))}}}),n=(l(359),l(360),l(44)),component=Object(n.a)(m,(function(){var e=this,r=e.$createElement,l=e._self._c||r;return l("section",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{id:"applyHouse"}},[l("b-container",{staticClass:"applyWrapper"},[l("h1",{staticClass:"applyTitle"},[e._v("住房申请")]),e._v(" "),l("el-form",{ref:"ruleForm",staticClass:"apply-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-position":"top"}},[l("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(r){e.activeNames=r},expression:"activeNames"}},[l("el-collapse-item",{attrs:{title:"个人信息",name:"1"}},[l("b-row",[l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"姓名（中文）",prop:"nameCh"}},[l("el-input",{attrs:{placeholder:"请输入个人中文姓名",clearable:""},model:{value:e.ruleForm.nameCh,callback:function(r){e.$set(e.ruleForm,"nameCh",r)},expression:"ruleForm.nameCh"}})],1)],1),e._v(" "),l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"姓名（如中文名为“李明”请输入“Ming Li”）",prop:"nameEn"}},[l("el-input",{attrs:{placeholder:"请输入个人英文姓名",clearable:""},model:{value:e.ruleForm.nameEn,callback:function(r){e.$set(e.ruleForm,"nameEn",r)},expression:"ruleForm.nameEn"}})],1)],1),e._v(" "),l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"性别",prop:"sex"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择性别",clearable:""},model:{value:e.ruleForm.sex,callback:function(r){e.$set(e.ruleForm,"sex",r)},expression:"ruleForm.sex"}},[l("el-option",{attrs:{label:"男",value:"男"}}),e._v(" "),l("el-option",{attrs:{label:"女",value:"女"}}),e._v(" "),l("el-option",{attrs:{label:"其他",value:"其他"}})],1)],1)],1),e._v(" "),l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"国内手机号",prop:"phone"}},[l("el-input",{attrs:{placeholder:"请输入国内手机号",clearable:""},model:{value:e.ruleForm.phone,callback:function(r){e.$set(e.ruleForm,"phone",r)},expression:"ruleForm.phone"}})],1)],1),e._v(" "),l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"出生日期",prop:"birthday"}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",editable:!1,placeholder:"请选择出生日期","value-format":"yyyy-MM-dd",clearable:""},model:{value:e.ruleForm.birthday,callback:function(r){e.$set(e.ruleForm,"birthday",r)},expression:"ruleForm.birthday"}})],1)],1),e._v(" "),l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"邮箱",prop:"uemail"}},[l("el-input",{attrs:{placeholder:"请输入个人邮箱",clearable:""},model:{value:e.ruleForm.uemail,callback:function(r){e.$set(e.ruleForm,"uemail",r)},expression:"ruleForm.uemail"}})],1)],1),e._v(" "),l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"护照号码",prop:"passport"}},[l("el-input",{attrs:{placeholder:"请输入护照号码",clearable:""},model:{value:e.ruleForm.passport,callback:function(r){e.$set(e.ruleForm,"passport",r)},expression:"ruleForm.passport"}})],1)],1)],1)],1),e._v(" "),l("el-collapse-item",{attrs:{title:"家庭信息",name:"2"}},[l("b-row",[l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"国内家庭住址（中文）",prop:"addressich"}},[l("el-input",{attrs:{placeholder:"请输入国内家庭住址(中文)",clearable:""},model:{value:e.ruleForm.addressich,callback:function(r){e.$set(e.ruleForm,"addressich",r)},expression:"ruleForm.addressich"}})],1)],1),e._v(" "),l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"国内家庭住址（英文）",prop:"addressien"}},[l("el-input",{attrs:{placeholder:"请输入国内家庭住址(英文)",clearable:""},model:{value:e.ruleForm.addressien,callback:function(r){e.$set(e.ruleForm,"addressien",r)},expression:"ruleForm.addressien"}})],1)],1),e._v(" "),l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"城市",prop:"city"}},[l("el-input",{attrs:{placeholder:"请输入国内所在城市",clearable:""},model:{value:e.ruleForm.city,callback:function(r){e.$set(e.ruleForm,"city",r)},expression:"ruleForm.city"}})],1)],1)],1)],1),e._v(" "),l("el-collapse-item",{attrs:{title:"担保人/紧急联系人信息",name:"3"}},[l("b-row",[l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"担保人(紧急联系人)姓名",prop:"pname"}},[l("el-input",{attrs:{placeholder:"请输入担保人(紧急联系人)姓名",clearable:""},model:{value:e.ruleForm.pname,callback:function(r){e.$set(e.ruleForm,"pname",r)},expression:"ruleForm.pname"}})],1)],1),e._v(" "),l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"与担保人(紧急联系人)的关系",prop:"prelation"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择与担保人(紧急联系人)的关系",clearable:""},model:{value:e.ruleForm.prelation,callback:function(r){e.$set(e.ruleForm,"prelation",r)},expression:"ruleForm.prelation"}},[l("el-option",{attrs:{label:"父亲",value:"父亲"}}),e._v(" "),l("el-option",{attrs:{label:"母亲",value:"母亲"}}),e._v(" "),l("el-option",{attrs:{label:"其他",value:"其他"}})],1)],1)],1),e._v(" "),l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"性别",prop:"psex"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择性别",clearable:""},model:{value:e.ruleForm.psex,callback:function(r){e.$set(e.ruleForm,"psex",r)},expression:"ruleForm.psex"}},[l("el-option",{attrs:{label:"男",value:"男"}}),e._v(" "),l("el-option",{attrs:{label:"女",value:"女"}})],1)],1)],1),e._v(" "),l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"担保人(紧急联系人)生日",prop:"pbirthday"}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",editable:!1,placeholder:"请选择担保人(紧急联系人)生日","value-format":"yyyy-MM-dd",clearable:""},model:{value:e.ruleForm.pbirthday,callback:function(r){e.$set(e.ruleForm,"pbirthday",r)},expression:"ruleForm.pbirthday"}})],1)],1),e._v(" "),l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"手机号",prop:"pphone"}},[l("el-input",{attrs:{placeholder:"请输入担保人(紧急联系人)手机号",clearable:""},model:{value:e.ruleForm.pphone,callback:function(r){e.$set(e.ruleForm,"pphone",r)},expression:"ruleForm.pphone"}})],1)],1),e._v(" "),l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"邮箱",prop:"pemail"}},[l("el-input",{attrs:{placeholder:"请输入担保人(紧急联系人)邮箱",clearable:""},model:{value:e.ruleForm.pemail,callback:function(r){e.$set(e.ruleForm,"pemail",r)},expression:"ruleForm.pemail"}})],1)],1)],1)],1),e._v(" "),l("el-collapse-item",{attrs:{title:"留学学校信息",name:"4"}},[l("b-row",[l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"留学城市",prop:"address"}},[l("el-input",{attrs:{placeholder:"请输入留学城市",clearable:""},model:{value:e.ruleForm.address,callback:function(r){e.$set(e.ruleForm,"address",r)},expression:"ruleForm.address"}})],1)],1),e._v(" "),l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"留学学校（英文）",prop:"abroadschoolen"}},[l("el-input",{attrs:{placeholder:"请输入留学学校（英文）",clearable:""},model:{value:e.ruleForm.abroadschoolen,callback:function(r){e.$set(e.ruleForm,"abroadschoolen",r)},expression:"ruleForm.abroadschoolen"}})],1)],1),e._v(" "),l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"就读课程",prop:"course"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择就读课程",clearable:""},model:{value:e.ruleForm.course,callback:function(r){e.$set(e.ruleForm,"course",r)},expression:"ruleForm.course"}},[l("el-option",{attrs:{label:"语言班",value:"语言班"}}),e._v(" "),l("el-option",{attrs:{label:"预科",value:"预科"}}),e._v(" "),l("el-option",{attrs:{label:"本科生",value:"本科生"}}),e._v(" "),l("el-option",{attrs:{label:"研究生",value:"研究生"}}),e._v(" "),l("el-option",{attrs:{label:"硕士",value:"硕士"}}),e._v(" "),l("el-option",{attrs:{label:"博士",value:"博士"}})],1)],1)],1),e._v(" "),l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"留学年级",prop:"grade"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择留学年级",clearable:""},model:{value:e.ruleForm.grade,callback:function(r){e.$set(e.ruleForm,"grade",r)},expression:"ruleForm.grade"}},[l("el-option",{attrs:{label:"1",value:"1"}}),e._v(" "),l("el-option",{attrs:{label:"2",value:"2"}}),e._v(" "),l("el-option",{attrs:{label:"3",value:"3"}}),e._v(" "),l("el-option",{attrs:{label:"4",value:"4"}})],1)],1)],1),e._v(" "),l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"留学专业（英文）",prop:"disciplineen"}},[l("el-input",{attrs:{placeholder:"请输入留学专业（英文）",clearable:""},model:{value:e.ruleForm.disciplineen,callback:function(r){e.$set(e.ruleForm,"disciplineen",r)},expression:"ruleForm.disciplineen"}})],1)],1),e._v(" "),l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"学年制",prop:"gradeyear"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择学年制",clearable:""},model:{value:e.ruleForm.gradeyear,callback:function(r){e.$set(e.ruleForm,"gradeyear",r)},expression:"ruleForm.gradeyear"}},[l("el-option",{attrs:{label:"1",value:"1"}}),e._v(" "),l("el-option",{attrs:{label:"2",value:"2"}}),e._v(" "),l("el-option",{attrs:{label:"3",value:"3"}}),e._v(" "),l("el-option",{attrs:{label:"4",value:"4"}})],1)],1)],1)],1)],1),e._v(" "),l("el-collapse-item",{attrs:{title:"申请公寓信息",name:"5"}},[l("b-row",[l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"付款周期（分期付/全额付）",prop:"payPeriod"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择付款周期",clearable:""},model:{value:e.ruleForm.payPeriod,callback:function(r){e.$set(e.ruleForm,"payPeriod",r)},expression:"ruleForm.payPeriod"}},[l("el-option",{attrs:{label:"分期付",value:"1"}}),e._v(" "),l("el-option",{attrs:{label:"全额付",value:"2"}})],1)],1)],1),e._v(" "),l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"付款方式（银行转帐/信用卡）",prop:"payType"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择付款方式",clearable:""},model:{value:e.ruleForm.payType,callback:function(r){e.$set(e.ruleForm,"payType",r)},expression:"ruleForm.payType"}},[l("el-option",{attrs:{label:"银行转帐",value:"1"}}),e._v(" "),l("el-option",{attrs:{label:"信用卡",value:"2"}})],1)],1)],1)],1),e._v(" "),l("b-row",[l("b-col",{attrs:{md:"6",sm:"12",lg:"6"}},[l("el-form-item",{attrs:{label:"偏好需求（如果有特殊订房需求，请在这里告诉我们） ",prop:"remark"}},[l("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:"请输入您的要求"},model:{value:e.ruleForm.remark,callback:function(r){e.$set(e.ruleForm,"remark",r)},expression:"ruleForm.remark"}})],1)],1)],1)],1)],1),e._v(" "),l("el-form-item",{staticStyle:{"text-align":"center","margin-top":"32px"}},[l("el-button",{staticClass:"submitBtn",attrs:{loading:e.buttonStatus,type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("确认提交")])],1)],1)],1)],1)}),[],!1,null,"0f85eaf4",null);r.default=component.exports}}]);